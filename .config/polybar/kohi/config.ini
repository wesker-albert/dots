[settings]
screenchange-reload           = true
pseudo-transparency           = false


[colors]
background                    = #16150E
background-active             = #242119
foreground                    = #DDDDDD
icon                          = #8E7B6B
alert                         = #DAABB1
error                         = #A54242
disabled                      = #443930
border                        = #242119

[defaults]
poll-interval                 = 5
framerate                     = 750


[section/base]
width                         = 100%
height                        = 22

offset-x                      = 20
offset-y                      = 20

background                    = ${colors.background}
foreground                    = ${colors.foreground}

overline-size                 = 0
underline-size                = 0

border-size                   = 2
border-color                  = ${colors.border}
radius                        = 2

padding-left                  = 1
padding-right                 = 2

separator                     = 
separator-foreground          = ${colors.border}

font-0                        = AudimatMono Nerd Font;2
font-1                        = AudimatMono Nerd Font:size=7.88;1
font-2                        = AudimatMono Nerd Font:size=9;2

modules-left                  = xworkspaces
modules-center                = date
modules-right                 = updates pulseaudio wlan vpn battery-0 battery-1
module-margin                 = 1

cursor-click                  = pointer
cursor-scroll                 = ns-resize

enable-ipc                    = true

monitor-strict                = true


[bar/main]
inherit                       = section/base

monitor                       = eDP-1

width                         = 1880

[bar/secondary]
inherit                       = section/base

monitor                       = HDMI-1

width                         = 2520
height                        = 32

font-0                        = AudimatMono Nerd Font:size=14;4
font-1                        = AudimatMono Nerd Font:size=9.88;2.5
font-2                        = AudimatMono Nerd Font:size=12;2


[module/xworkspaces]
type                          = internal/xworkspaces

enable-scroll                 = false

icon-0                        = WEB;
icon-1                        = DEV;󰘦
icon-2                        = FILES;
icon-3                        = SOCIAL;
icon-4                        = MEDIA;喇
icon-default                  = 󱦟
icon-foreground               = ${colors.icon}

label-active                  = %{F#8C9440} %{T2}%index%. %{T-}%{F#B2A597}%icon% %{F-}
label-active-background       = ${colors.background-active}
label-active-padding          = 0

label-occupied                = %{F#8C9440} %{T2}%index%. %{T-}%{F#8E7B6B}%icon% %{F-}
label-occupied-padding        = 0

label-urgent                  = %{F#8C9440} %{T2}%index%. %{T-}%{F#CC6666}%icon% %{F-}
label-urgent-foreground       = ${colors.alert}
label-urgent-padding          = 0

label-empty                   = %{F#8C9440} %{T2}%index%. %{T-}%{F#443930}%icon% %{F-}
label-empty-foreground        = ${colors.disabled}
label-empty-padding           = 0


[module/date]
type                          = internal/date
interval                      = 1

date                          = %{F#8E7B6B}%{F-} %a %Y-%m-%d  %{F#8E7B6B}󱑁%{F-} %H:%M
date-alt                      = %{F#8E7B6B}%{F-} %a %Y-%m-%d  %{F#8E7B6B}󱑁%{F-} %H:%M:%S

format                        = <label>
format-foreground             = ${colors.icon}

label                         = %{A3:bash ~/.config/polybar/kohi/commands.sh spawn_calcurse:}%{T3}%date%%{T-}%{A}
label-foreground              = ${colors.foreground}


[module/updates]
type                          = custom/script

exec                          = ~/.config/polybar/kohi/updates.sh get_update_count

interval                      = 60

format                        = <label>
format-fail                   = <label-fail>

label                         = %{F#8E7B6B}%{F-} %{T3}%output%%{T-}
label-fail                    = 

click-right                   = ~/.config/polybar/kohi/updates.sh spawn_notifier


[module/pulseaudio]
type                          = internal/pulseaudio

format-volume                 = <ramp-volume> <label-volume>

ramp-volume-0                 = 󰕿%{O3}
ramp-volume-1                 = 󰖀%{O2}
ramp-volume-2                 = 󰕾
ramp-volume-foreground        = ${colors.icon}

label-volume                  = %{A8:pavucontrol:}%{T3}[%percentage:3%%]%{T-}%{A}

label-muted                   = 󰖁 %{T3}mute%{T-}
label-muted-foreground        = ${colors.disabled}

click-right                   = bash ~/.config/polybar/kohi/commands.sh spawn_alsamixer


[module/wlan]
type                          = internal/network

interval                      = ${defaults.poll-interval}

interface-type                = wireless

format-connected              = <ramp-signal> <label-connected>
format-disconnected           = <label-disconnected>

label-connected               = %{A3:bash ~/.config/polybar/kohi/commands.sh spawn_nmtui:}%{T3}%essid% [%signal:3%%]%{T-}%{A}
label-connected-foreground    = ${colors.foreground}

label-disconnected            = %{A3:bash ~/.config/polybar/kohi/commands.sh spawn_nmtui:}󰤮 %{T3}disconnected%{T-}%{A}
label-disconnected-foreground = ${colors.disabled}

ramp-signal-0                 = 󰤯
ramp-signal-1                 = 󰤟
ramp-signal-2                 = 󰤢
ramp-signal-3                 = 󰤥
ramp-signal-4                 = 󰤨
ramp-signal-foreground        = ${colors.icon}


[module/vpn]
type                          = custom/script

exec                          = ~/.config/polybar/kohi/proton-vpn.sh get_active_connection

interval                      = 1

format                        = <label>

label                         = %output%

click-right                   = NAME=CH-US-2 ~/.config/polybar/kohi/proton-vpn.sh toggle_connection


[section/battery]
type                          = internal/battery

low-at                        = 20
full-at                       = 100

poll-interval                 = ${defaults.poll-interval}

adapter                       = AC

time-format                   = %H:%M

label-low                     = %{T3}[%percentage:3%%]%{T-}
label-full                    = %{T3}[%percentage:3%%]%{T-}
label-charging                = %{T3}[%percentage:3%%]%{T-}
label-discharging             = %{T3}[%percentage:3%%]%{T-}

format-full                   = 

ramp-capacity-0               = 
ramp-capacity-1               = 
ramp-capacity-2               = 
ramp-capacity-3               = 
ramp-capacity-4               = 
ramp-capacity-5               = 
ramp-capacity-6               = 
ramp-capacity-7               = 
ramp-capacity-8               = 
ramp-capacity-9               = 
ramp-capacity-10              = 
ramp-capacity-foreground      = ${colors.icon}

animation-charging-0          = 
animation-charging-1          = 
animation-charging-2          = 
animation-charging-3          = 
animation-charging-4          = 
animation-charging-5          = 
animation-charging-6          = 
animation-charging-framerate  = ${defaults.framerate}
animation-charging-foreground = ${colors.icon}

animation-low-0               = 
animation-low-1               = 
animation-low-framerate       = ${defaults.framerate}
animation-low-0-foreground    = ${colors.icon}
animation-low-1-foreground    = ${colors.error}

[module/battery-0]
inherit                       = section/battery

battery                       = BAT0

format-low                    = %{F#8C9440}%{T2}#1%{T-}%{F-}<animation-low> <label-low>
format-charging               = %{F#8C9440}%{T2}#1%{T-}%{F-}%{O3}<animation-charging> <label-charging>
format-discharging            = %{F#8C9440}%{T2}#1%{T-}%{F-}<ramp-capacity> <label-discharging>

[module/battery-1]
inherit                       = section/battery

battery                       = BAT1

format-low                    = %{F#8C9440}%{T2}#2%{T-}%{F-}<animation-low> <label-low>
format-charging               = %{F#8C9440}%{T2}#2%{T-}%{F-}%{O3}<animation-charging> <label-charging>
format-discharging            = %{F#8C9440}%{T2}#2%{T-}%{F-}<ramp-capacity> <label-discharging>
